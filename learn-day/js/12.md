#### 浏览器工作原理与实践
单进程浏览器：不稳定 不流畅 不安全
打开一个页面有4个进程
1. 网络进程
2. 浏览器进程
3. GPU进程
4. 渲染进程

##### 页面文件被完整的送达浏览器【数据通过数据包来传输。数据包在传输过程中容易丢失或出错】
1. IP 把数据包送达目的主机
2. UDP 把数据包送达应用程序，重要的是端口号（IP 通过 IP 地址信息把数据包发送给指定的电脑，而 UDP 通过端口号把数据包分发给正确的程序，存在问题：数据易丢失；大文件分包，UDP不知道如何组装）
3. TCP 把数据完整的送达应用程序，连接分为三个阶段：建立连接、传输数据和断开连接
4. HTTP和TCP协议属于TCP/IP协议的子集，HTTP属于应用层，TCP属于传输层，HTTP位于TCP的上层，请求方要发送的数据包，在应用层加上HTTP头交给传输层的TCP协议处理，应答方接收到的数据包，在传输层拆掉TCP交给HTTP协议处理。

##### HTTP请求流程【允许浏览器向服务器获取资源的协议】

###### 浏览器你发起HTTP请求流程
1. 构建请求
```
GET /index.html HTTP1.1

```
2. 查找缓存
（1）缓解服务器压力，提升性能【获取资源的耗时更短】
（2）缓存是实现快速资源加载的重要组成部分
3. 准备IP地址和端口【请求DNS返回域名对应的IP】
4. 等待TCP队列【同一个域名只能建立6个TCP连接】
5. 发送HTTP请求
（1）发送请求行，有请求方法、请求UPI和版本协议
（2）请求头，即浏览器的基础信息，有操作系统、浏览器内核、请求的域名信息、Cookie信息
6. 服务器端处理HTTP请求流程
（1）返回请求【响应行，有协议版本和状态码；响应头，包含服务器自身的信息，如返回数据的时间、返回的数据类型、以及Cookie，响应体的数据】
（2）断开连接，在请求头中有Connection:Keep-Alive 表示TCP连接仍然保持打开
（3）重定向，状态吗301，重定向地址在location字段里


