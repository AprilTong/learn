#### TCP连接【面向连接的、可靠的、基于字节流的传输层通信协议】
两个特点：
- 属于数据包丢失的情况，TCP提供重传机制
- 引入了数据包排序机制，可保证把乱序的数据包组合成一个完整的文件
三个阶段：建立连接（三次握手进行连接）、传输数据（数据包校验）、断开连接（四次挥手断开连接）
TCP为了保证数据传输的可靠性，牺牲了数据包的传输速度。
- 互联网中的数据是通过数据包来传输的，数据包在传输过程中容易丢失或者出错。
- IP负责把数据包送达到具体应用。
- UDP负责把数据包传送到具体应用。

#### HTTP请求流程
HTTP是允许浏览器向服务器获取资源的协议，是web的基础。
浏览器端发起 HTTP 请求流程
1. 构建请求
浏览器构建请求行信息
```
GET /index.html HTTP1.1
```
2. 查找缓存
发起请求之前，浏览器会先去浏览器缓存中查询是否有要请求的文件。浏览器缓存指的是一种在本地保存资源副本，供下次请求时直接使用的技术。
缓存的好处：
- 缓解服务器性能，提升性能。
- 对于网站来说，缓存是实现快速资源加载的重要组成部分。
3. 准备IP和端口
浏览器请求DNS返回域名对应的IP。浏览器还提供了DNS数据缓存服务。如果某个域名已经解析过了，浏览器会缓存解析的结果，供下次查询时直接使用，这样会减少一次网络请求。
URL没有指明特定的端口号，HTTP协议默认的时80端口。
4. 等待TCP队列
同一个域名只能建立6个TCP连接，同一个域名下有10个请求发生，有4个请求进入排队等候状态，直至进行中的请求完成再去执行等候状态的4个请求。
如果当前请求数量少于6，直接进入TCP连接这一步。
5. 建立TCP连接
6. 发送HTTP请求
- 浏览器向服务器发送请求行【请求方法、请求URI、HTTP协议版本】
- 还要以请求头的形式发送其他信息【浏览器操作系统、浏览器请求内核、请求的域名信息、cookie等】
7. 服务端处理HTTP请求流程
（1） 返回请求
  - 返回响应行【协议版本、状态码】
  - 还要以响应头的形式发送其他信息【返回数据时间、类型、cookie等】
（2）断开连接
  - 通常情况下，服务器向浏览器返回数据后，就要关闭TCP连接
  - 如果浏览器或者服务器在头信息里有Connection:Keep-Alive,TCP连接保持打开状态，可以通过TCP连接发送请求。
   （保持TCP连接可以省去下次建立连接的时间，提升资源加载速度）
（3）重定向
  - 301 永久重定向
  - 302 暂时重定向


  #### 从输入 URL 到页面展示
  1. 用户输入【回去了判断是搜索内容、还是请求的URL】
  - 搜索内容，会使用浏览器默认的搜索引擎，合成待搜索关键字的URL
  - URL，是否符合URL规则，根据规则和输入内容，合成完整的URL
  2. URL请求过程
  3. 服务器响应返回数据
  4. 渲染

  #### 渲染流程
  1. 构建DOM树
  2. 样式计算
  - 把css转换为浏览器能够理解的结构
  - 转换样式表中的属性值，使其标准化
  - 计算出 DOM 树中每个节点的具体样式（css的继承规则和层叠规则）
  3. 布局阶段
  - 创建布局树
  - 布局计算
  4. 对布局树进行分层，生成分层树
  5. 为每个图层生成绘制列表，并将其提交到合成线程
  6. 合成线程将图层分为图块，在光栅化线程池中将图块转换为位图
  7. 合成线程发送绘制图块命令到浏览器进程
  8. 浏览器进程根据发送的消息生成页面，并显示在显示器上





