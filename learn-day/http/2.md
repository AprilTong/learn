##### HTTP 的发展

- HTTP/0.9
  纯文本格式，只允许 get 动作从服务器上获取 HTML 文档，在响应请求之后立即关闭连接。
- HTTP/1.0
  1. 增加了 HEAD、POST 等新方法
  2. 增加了响应状态码，标记可能的错误原因
  3. 引入了协议版本号概念
  4. 引入了 HTTP Header（头部）概念
  5. 传输数据格式不再仅限于文本
- HTTP/1.1

1.  增加了 PUT、DELETE 等新方法
2.  增加了缓存管理和控制
3.  明确了连接管理，允许持久连接
4.  允许响应数据分块，利于传输大文件
5.  强制要求 Host 头，让互联网主机托管成为可能

- HTTP/2

1.  采用二进制，不再是纯文本
2.  可以发起多个请求，废弃上个版本的管道
3.  压缩头部，减少数据传输量
4.  允许服务器主动向客户端推送数据
5.  增强安全性，要求加密通信

- HTTP/3

##### HTTP 的理解

（超文本传输协议）

- 协议：计算机世界里的协议，建立了计算机之间交流通信的规范，以及相关的各种控制和错误处理方式。
- 传输：双向协议，两个参与者，请求发和响应方，传输过程可添加额外功能=，如安全认证、数据传输、编码转换等。
- 超文本：传输的不是二进制包，而是完整的有意义的数据，图片、音频、视频、压缩包等
  总结： HTTP 是计算机世界里专门在两点之间传输文字、图片、音频、视频等超文本数据的约定和规范。
  HTTP 是一个动态的存在，是在网络连接、传输超文本数据时候的动态过程。

##### HTTP 相关概念

- 浏览器（web Brower），检索查看互联网网页资源的应用程序，是一个 HTTP 协议中的请求方。在 HTTP 中，浏览器被称为 user agent.(用户代理)
- web 服务器（web server）,是 HTTP 协议中的应答方。
- CDN(内容分发网络)，应用了 HTTP 协议里面的缓存和代理技术，代替源站响应客户端的请求。

#### cookie

- 指的是为了辨别用户身份而存储在用户本地终端上的数据，不超过 4kb，由一个名称，一个值和其他几个用于控制 cookie 有效期、安全性、使用范围的可选属性组成
- cookie 的设置

1. 客户端发送 HTTP 请求到服务器
2. 当服务器收到 HTTP 请求时，在响应头里添加 set-cookie 的字段
3. 浏览器收到响应后保存下 cookie
4. 之后对该服务器每一次请求中都通过 cookie 字段将 cookie 信息发送给服务器

- cookie 的属性

1. Expires 用来设置 cookie 的过期时间
2. 无 Expires 属性，表示会话性的的，值保存在客户端内存中，关闭浏览器失效，持久性 cookie 保存在硬盘中，直至过期或者清除，设定的日期只和客户端有关，不是服务端
   内存和硬盘：
   内存：又名主存，计算机的程序运行都在内存中，只有计算机在运行，计算机 CPU 就会把需要的计算数据调到内存中，分为随机存储器、制毒存储器、高速缓存
   硬盘：从结构体系来讲，磁盘是计算机的‘外存’
3. 内存是计算机运行的场所，

3) max-age 用于设置在 cookie 失效之前经过的秒数，可以为正数、负数、零
   正数：浏览器将其持久化，会写到响应的 cookie 文件中
   负数：表示 cookie 只是一个会话性的 cookie
   零：会立即删除这个 cookie
   Expires 和 Max-age 都存在，max-age 优先级更高
4) domain 指定 cookie 可以送达的主机名，没设置，则默认值是当前文档访问地址中的主机部分，不能跨域设置 cookie
5) path 指定 URL 路径，此路径必须出现在要请求的资源路径中才可以发送 cookie 首部，如设置 Path=/docs， /docs/web/ 下的资源会带 cookie 首部， /test 不会携带，domain 和 path 共同定义 cookie 的作用域
6) secure 标记为 secure 的 cookie 只能通过被 HTTPS 协议加密过的请求发送给服务端，使用 HTTPS 安全协议，可保护 Cookie 在传输过程中不被窃取和篡改
7) HTTPOnly 可以防止客户端脚本通过 document.cookie 等方式访问 cookie，有助于避免 xss 攻击
8) samesite 可以让 cookie 在跨站请求时不被发送，从而阻止跨站请求伪造攻击（CSRF），可以设置
   strict：只能允许一方请求携带 cookie，即浏览器将只发送相同站点请求的 cookie
   lax：允许部分第三方请求携带 cookie
   None:无论是否跨站都会发送 Cookie
   注意跨站和跨域
   1. HTTP 接口不支持 SameSite = none，如果你想加 SameSite=none 属性，那么该 Cookie 就必须同时加上 Secure 属性，表示只有在 HTTPS 协议下该 Cookie 才会被发送。
   2. 需要 UA 检测，部分浏览器不能加 SameSite=none

- cookie 的作用

1. 会话状态管理
2. 个性化设置
3. 浏览器行为追踪
